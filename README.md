# Code and Data for the paper "When a helpful bias is unhelpful: Limitations in reasoning from random and misleading evidence"

I'm sorry about the structure of this repository. This was one of the first projects of my PhD and I was fairly new to coding. This readme is my attempt to make this repo a bit more navigable for people interested in better understanding our analyses. 

Note that `datafiles` does not contain the experiment data (see overview), it contains model output. 

Note also that throughout the code and data, we make reference to Helpful, Random, Misleading, and Uninformative conditions. Here, "Misleading" refers to Misleading Naive in the paper, and "Uninformative" to misleading aware. These conditions are also often abbreviated to the first letter of the condition (e.g., "M" for misleading) and either "S" for  cover *story* or "N" for *no* cover story. So "MS" Would be the *M*isleading cover *S*tory condition. 

## Requirements

R version 4.2.2

## Overview
- `01.1_generate-data-files` and `01.2_generate-recursive-data-files` generate the probability distributions for points and hypotheses in a hypothesis space. The data files (saved in `datafiles`) made from this script are essential for all of the analyses that use the computational modelling. They (especially the recursive script) take a little while to run, though. 
- `experiment-<>` directories: contain all of the data and analysis code for analyzing each of the individual experiments. `experiment-1-rerun` is because the first version of experiment 1 ran with a mistake in the instructions, so we re-ran the experiment to be certain the mistake did not affect the results. This file only contains data, though. All of the results reported in the paper pertaining to E1 and all of the modelling/analyses in the standard `experiment-1/modelling` folder use the data from the reran experiment, not the original E1 data with the mistake.
  - Each `experiment` folder is divided into `data` and `modelling`: 
      - `data` contains three sub folders: `derived`, `clean`, `raw`, and `import-cleaning-script` which contains the script used to clean the raw data.
          - `raw` contains the raw data from the experiment.
          - `clean` contains the cleaned data.
          - `derived` contains data files that were derived from the cleaned data (e.g., data files that contain only the target blocks, or data files that contain summary statistics).Importantly, the main data files used in the analyses are in `derived`.
      - `modelling` contains all of the code used to generate the models and analyses reported in the paper. In each experiment, the modelling directory has the following scripts:
        - `00_prepare-data.R`: Prepares and loads the data for analysis.
        - `01_demographics.R`: Analyzes participant demographics.
        - `02_model-posteriors.R`: Computes model posteriors for each condition.
        - `03_plot-posteriors.R`: Generates plots of model posteriors.
        - `06_calculate-hypothesis-probabilities.R`: Calculates hypothesis probabilities for the heat maps. 
        - `06_heat-maps.R`: Creates heat maps for visualizing distributions (These generate the empirical learner phase heat maps that appear in the manuscript for all three experiments).
        - `08_size_hist_and_model.R`: Creates individual plots for size histograms and model fits (note that this script only creates individual figures, and the combined plots for the paper are contained in the `experiment-comparison` folder).
        - `09_accuracy.R`: Exploritory analysis looking at accuracy across conditions (not included in the paper -- accuracy analysis that is in the paper is in `experiment-comparison`).
        - `04_output/`: Contains output files generated by the modelling scripts.
        - `05_plots/`: Contains individual plots (not manuscript plots).
  - Note that experiment 3 has additional scripts for analysing the provider phase and empirical priors. 

- `experiment-comparison`: contains all of the analyses that make comparisons across experiments. Most of the code to generate the figures in the paper are here, including: 
  - size-histograms.R: Figure 8
  - compare-experiment-accuracies.R: Figure 11
  - posterior-boxplots.R: Figure 10
  - posterior-plots.R: Posterior bar plots that are in the supplementary materials.
- `experiment-scenarios`: contains data pertaining to the locations of the true rectangles and clues used in the experiment. 
- `expeiment-simulations`: contains files relevant to conducting model simulations of the experiment target blocks.
- `functions`: contains various functions used in the analyses. 
- `model-demonstrations`: contains Rmarkdown/Quarto docs designed to provide an understanding of how the pedagogical sampling assumptions model works.
- `recovery`: contains files relevant to a model recovery that tested whether data generated from the model could be accurately recovered by the model.  I've set the analysis up to run on a remote cloud computing server because it is a pretty computationally analysis, so this allows me to parallelise it greatly. If you want to run it locally, the scripts will need to be adapted. 
